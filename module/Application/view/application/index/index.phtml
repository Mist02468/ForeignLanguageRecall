<!--Homepage-->
<div class="jumbotron" style="text-align: center<?php if (is_null($this->result) === false) { echo '; padding-top: 0px;'; } ?>">
    <!--Form to submit the user's spanish for the given english-->
    <?php if (is_null($this->result) === false) : ?>
        <div class="alert <?php echo ($this->result === 'correct' ? 'alert-success' : 'alert-danger') ?>" role="alert"><?php echo $this->resultString ?></div>
    <?php endif; ?>
    <form method="post">
        <!--Div with instructions-->
        <h2>Word in English to Recall: <b><?php echo $this->englishWord->word . ($this->englishWord->type ? ' (' . $this->englishWord->type . ')' : '')?></b></h2>
        <!--Div with input group-->
        <div class="input-group">
            <input type="hidden" name="englishWordId" value=<?php echo $this->englishWord->id ?>>
            <input id="spanishTextBox" type="text" spellcheck="false" class="form-control" name="spanishToCheck" placeholder="Palabra en castellano..." autofocus>
            <!--Check button on the right of the input box-->
            <span class="input-group-btn">
                <button class="btn btn-default" type="submit">Check!</button>
            </span>
        </div>
    </form>
</div>

<script>

var accents = {a: String.fromCharCode(225),
               e: String.fromCharCode(233),
               i: String.fromCharCode(237),
               o: String.fromCharCode(243),
               u: String.fromCharCode(250),
               n: String.fromCharCode(241)};

$("#spanishTextBox").on("keydown", function(event) {
    if (event.which == 39) {
        var currSpanishText = $("#spanishTextBox").val();
        var lastLetterIndex = currSpanishText.length - 1;
        if (currSpanishText[lastLetterIndex] in accents) {
            newSpanishText = currSpanishText.substring(0, lastLetterIndex).concat(accents[currSpanishText[lastLetterIndex]]);
            $("#spanishTextBox").val(newSpanishText);
        }
    }
});

</script>
